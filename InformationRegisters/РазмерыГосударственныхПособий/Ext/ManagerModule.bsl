#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

////////////////////////////////////////////////////////////////////////////////
// СЛУЖЕБНЫЕ ПРОЦЕДУРЫ И ФУНКЦИИ

//////////////////////////////////////////////////////////////////
/// Первоначальное заполнение и обновление информационной базы

// 4D:ERP для Беларуси, Яна, 31.05.2017 12:51:44 
// Нет возможности внести размер вычета, №15045 
// {

// Процедура выполняет первоначальное заполнение сведений.
Процедура НачальноеЗаполнение() Экспорт
	ЗаполнитьГосударственныеПособия();	
КонецПроцедуры
// }
// 4D

// Процедура заполняет сведения о действующих размерах пособий
//
Процедура ЗаполнитьГосударственныеПособия() Экспорт
	
	// 4D:ERP для Беларуси, Яна, 07.06.2017 11:00:31 
	// Документ "Единовременные пособия за счет ФСЗН", №14887 
	// {
	КлассификаторXML = РегистрыСведений.РазмерыГосударственныхПособий.ПолучитьМакет("ГосударственныеПособия").ПолучитьТекст();
	
	КлассификаторТаблица = ОбщегоНазначения.ПрочитатьXMLВТаблицу(КлассификаторXML).Данные;
	
	НаборЗаписей = РегистрыСведений.РазмерыГосударственныхПособий.СоздатьНаборЗаписей();
	НаборЗаписей.ДополнительныеСвойства.Вставить("ЗаписьОбщихДанных");
	ТекущаяДата = Неопределено;
	ПредыдущаяЗапись = Неопределено;
	Для Каждого СтрокаКлассификатора ИЗ КлассификаторТаблица Цикл
		ДатаЗаписи = Дата(СтрокаКлассификатора.Date);
		Если ТекущаяДата <> ДатаЗаписи Тогда
			СтрокаНабора = НаборЗаписей.Добавить();
			Если ЗначениеЗаполнено(ТекущаяДата) Тогда
				ЗаполнитьЗначенияСвойств(СтрокаНабора, ПредыдущаяЗапись);
			КонецЕсли;
			СтрокаНабора.Период = ДатаЗаписи;
			ТекущаяДата = ДатаЗаписи;
			ПредыдущаяЗапись = СтрокаНабора; 
		КонецЕсли;
		СтрокаНабора[СтрокаКлассификатора.Benefit]	= Число(СтрокаКлассификатора.Rate);
	КонецЦикла;
	НаборЗаписей.Записать();
	// }
	// 4D
			
КонецПроцедуры

#КонецЕсли