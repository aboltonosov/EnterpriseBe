
#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ПрограммныйИнтерфейс
//++ НЕ УТ

// Функция возвращает счет бухгалтерского учета в зависимости от выбранного типа налога. Вызов функции происходит из платежных документов
//
// Параметры:
//   ТипНалога  -  Перечисление "Типы налогов"
//
// Возвращаемое значение:
//   ПланСчетов.Хозрасчетный   - Счет учета по типу налога
// 
Функция СчетУчетаПоТипуНалога(ТипНалога) Экспорт
		
	// 4D:ERP для Беларуси, Яна, 07.08.2017 14:14:09 
	// Проверить первый запуск, №15650 
	// TODO
	// {
	Если ТипНалога = Перечисления.ТипыНалогов.ЗемельныйНалог Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.ЗемельныйНалог;
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.НДС Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.НДС;
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.НДС_ВвозимыеТовары Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.НДС;
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.НДФЛ Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.НДФЛ;
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.НДФЛДоначисленныйПоРезультатамПроверки Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.НДФЛ;
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.НДФЛДоходыКонтрагентов Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.НДФЛ;
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.НДФЛПередачаЗадолженностиВНалоговыйОрган Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.НДФЛ;
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.НДФЛПрочиеРасчетыСПерсоналом Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.НДФЛ;
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.НДФЛДивиденды Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.НДФЛ;
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.НДФЛДивидендыСотрудникам Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.НДФЛ;
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.ПрочиеНалогиИСборы Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.ПрочиеНалогиИСборы;
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.УСН_Доходы Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.ЕНприУСН;
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.УСН_ДоходыМинусРасходы Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.ЕНприУСН;
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.УСН_МинимальныйНалог Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.ЕНприУСН;
	// 4D:ERP для Беларуси, АлексейЧ, 05.01.2018 11:56:57 
	// Локализовать документ Списание безналичных ДС с видом операции "Перечисление налогов и взносов", №16881
	// {
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.ФСЗН Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.ФСС;
	ИначеЕсли ТипНалога = Перечисления.ТипыНалогов.ПенсионныйФонд Тогда
		СчетУчета = ПланыСчетов.Хозрасчетный.ПФР;
	// }
	// 4D
	Иначе
		СчетУчета = ПланыСчетов.Хозрасчетный.ПустаяСсылка();
	КонецЕсли;	
	// }
	// 4D

	Возврат СчетУчета;
	
КонецФункции

// Функция возвращает типа налога в зависимости от выбранного счета бухгалтерского учета. Вызов функции происходит из обработчиков обновления
//
// Параметры:
//   ПланСчетов.Хозрасчетный   - Счет учета по типу налога
//
// Возвращаемое значение:
//   ТипНалога  -  Перечисление "Типы налогов"
// 
Функция ТипНалогаПоСчетуУчета(СчетУчета) Экспорт
	
	// 4D:ERP для Беларуси, Яна, 07.08.2017 14:39:09 
	// Проверить первый запуск, №15650 
	// TODO
	// {
	Если СчетУчета = ПланыСчетов.Хозрасчетный.ЗемельныйНалог Тогда
	    ТипНалога = Перечисления.ТипыНалогов.ЗемельныйНалог;
	ИначеЕсли СчетУчета = ПланыСчетов.Хозрасчетный.НДС Тогда
	    ТипНалога = Перечисления.ТипыНалогов.НДС;
	ИначеЕсли СчетУчета = ПланыСчетов.Хозрасчетный.НДФЛ Тогда
	    ТипНалога = Перечисления.ТипыНалогов.НДФЛ;
	ИначеЕсли СчетУчета = ПланыСчетов.Хозрасчетный.ПрочиеНалогиИСборы Тогда
	    ТипНалога = Перечисления.ТипыНалогов.ПрочиеНалогиИСборы;
	ИначеЕсли СчетУчета = ПланыСчетов.Хозрасчетный.ЕНприУСН Тогда
	    ТипНалога = Перечисления.ТипыНалогов.УСН_Доходы;
	ИначеЕсли СчетУчета = ПланыСчетов.Хозрасчетный.ФСС Тогда
	    ТипНалога = Перечисления.ТипыНалогов.ФСС;
	// 4D:ERP для Беларуси, АлексейЧ, 05.01.2018 11:56:57 
	// Локализовать документ Списание безналичных ДС с видом операции "Перечисление налогов и взносов", №16881
	// {
	ИначеЕсли СчетУчета = ПланыСчетов.Хозрасчетный.ФСС Тогда
	    ТипНалога = Перечисления.ТипыНалогов.ФСЗН;
	ИначеЕсли СчетУчета = ПланыСчетов.Хозрасчетный.ПФР Тогда
	    ТипНалога = Перечисления.ТипыНалогов.ПенсионныйФонд;
	// }
	// 4D
	Иначе
		ТипНалога = Перечисления.ТипыНалогов.ПустаяСсылка();
	КонецЕсли;
	// }
	// 4D

	Возврат ТипНалога;
	
КонецФункции

// Функция возвращает типа налога в зависимости от операции по зарплате.
//
// Параметры:
//   ВидОперации - Перечисление.ВидыОперацийПоЗарплате - вид операции по зарплате
//
// Возвращаемое значение:
//   ТипНалога  -  Перечисление "Типы налогов"
// 
Функция ТипНалогаОперацииПоЗарплаты(ВидОперации) Экспорт
	
	Если ВидОперации = Перечисления.ВидыОперацийПоЗарплате.НДФЛ Тогда
		ТипНалога = Перечисления.ТипыНалогов.НДФЛ;
	ИначеЕсли ВидОперации = Перечисления.ВидыОперацийПоЗарплате.НДФЛДоначисленныйПоРезультатамПроверки Тогда
		ТипНалога = Перечисления.ТипыНалогов.НДФЛДоначисленныйПоРезультатамПроверки;
	ИначеЕсли ВидОперации = Перечисления.ВидыОперацийПоЗарплате.НДФЛДоходыКонтрагентов Тогда
		ТипНалога = Перечисления.ТипыНалогов.НДФЛДоходыКонтрагентов;
	ИначеЕсли ВидОперации = Перечисления.ВидыОперацийПоЗарплате.НДФЛПередачаЗадолженностиВНалоговыйОрган Тогда
		ТипНалога = Перечисления.ТипыНалогов.НДФЛПередачаЗадолженностиВНалоговыйОрган;
	ИначеЕсли ВидОперации = Перечисления.ВидыОперацийПоЗарплате.НДФЛПрочиеРасчетыСПерсоналом Тогда
		ТипНалога = Перечисления.ТипыНалогов.НДФЛПрочиеРасчетыСПерсоналом;
	ИначеЕсли ВидОперации = Перечисления.ВидыОперацийПоЗарплате.НДФЛРасчетыСБывшимиСотрудниками Тогда
		ТипНалога = Перечисления.ТипыНалогов.НДФЛДоходыКонтрагентов;
	ИначеЕсли ВидОперации = Перечисления.ВидыОперацийПоЗарплате.НФДЛДивиденды Тогда
		ТипНалога = Перечисления.ТипыНалогов.НДФЛДивиденды;
	ИначеЕсли ВидОперации = Перечисления.ВидыОперацийПоЗарплате.НФДЛДивидендыСотрудникам Тогда
		ТипНалога = Перечисления.ТипыНалогов.НДФЛДивидендыСотрудникам;
	КонецЕсли;
	
	Возврат ТипНалога;
	
КонецФункции
//-- НЕ УТ

#КонецОбласти

#Область ОбработчикиСобытий

// 4D:ERP для Беларуси, Яна, 07.08.2017 14:14:09 
// Проверить первый запуск, №15650 
// {
Процедура ОбработкаПолученияДанныхВыбора(ДанныеВыбора, Параметры, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	
	МассивИсключаемыхЗначений = Новый Массив;
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.ЕСХН);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.НалогНаИмущество);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.НалогНаПрибыль_РегиональныйБюджет);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.УСН_ДоходыМинусРасходы);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.УСН_МинимальныйНалог);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.ПФРПоСуммарномуТарифу);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.ПФРНакопительнаяЧасть);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.ПФРДополнительныйТарифЛЭ);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.ПФРЗаЗанятыхНаПодземныхИВредныхРаботах);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.ПФРЗаЗанятыхНаТяжелыхИПрочихРаботах);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.ПФРСПревышения);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.ФФОМС);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.ТФОМС);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.НДФЛДоначисленныйПоРезультатамПроверки);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.НДФЛПередачаЗадолженностиВНалоговыйОрган);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.ПФРДоПредельнойВеличины);
	// 4D:ERP для Беларуси, АлексейЧ, 05.01.2018 11:56:57 
	// Локализовать документ Списание безналичных ДС с видом операции "Перечисление налогов и взносов", №16881
	// {
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.ФСС);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.ФССНС);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.ПФРСтраховаяЧасть);
	МассивИсключаемыхЗначений.Добавить(Перечисления.ТипыНалогов.ПФРДополнительныйТарифШахтеры);
	// }
	// 4D
	ОбщегоНазначенияУТВызовСервера.ПолучитьСписокВыбораПеречисления(
		"ТипыНалогов",
		ДанныеВыбора,
		Параметры,
		МассивИсключаемыхЗначений);

КонецПроцедуры
// }
// 4D

#КонецОбласти

#КонецЕсли
