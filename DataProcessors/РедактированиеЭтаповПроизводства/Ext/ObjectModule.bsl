//++ НЕ УТКА

#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)
	
	МенеджерВременныхТаблиц = Документы.ЭтапПроизводства2_2.СформироватьВременныеТаблицыДляПроверки(ЭтотОбъект);

	Документы.ЭтапПроизводства2_2.ПроверитьЗаполнениеОбъекта(
			ЭтотОбъект, 
			МенеджерВременныхТаблиц, 
			Отказ, 
			ПроверяемыеРеквизиты);
			
			
	Для каждого ДанныеЭтапа Из Этапы Цикл
		СтруктураПоиска = Новый Структура("Распоряжение", ДанныеЭтапа.Распоряжение);
		Если ДанныеЭтапа.ЭтоВыпускающийЭтап Тогда
	  		СтрокаПродукция = ВыходныеИзделия.Найти(ДанныеЭтапа.Распоряжение, "Распоряжение");
		Иначе
	  		СтрокаПродукция = ПобочныеИзделия.Найти(ДанныеЭтапа.Распоряжение, "Распоряжение");
		КонецЕсли;
		Если СтрокаПродукция = Неопределено Тогда
			ТекстСообщения = СтрШаблон(НСтр("ru = 'Для этапа %1 необходимо указать выходное изделие.'"), ДанныеЭтапа.Распоряжение);
			ОбщегоНазначенияКлиентСервер.СообщитьПользователю(ТекстСообщения,,,, Отказ); 
		КонецЕсли; 
	КонецЦикла; 			
	
КонецПроцедуры

#КонецОбласти

#КонецЕсли

//-- НЕ УТКА